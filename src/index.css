/* ---------- page + device shell ---------- */
:root{
  --shell:#0a0f22;
  --ring:rgba(0,0,0,.08);
  --shadow-lg:0 40px 100px rgba(2,8,23,.25);
  --muted:#6b7280;
  --ink:#0b1220;
  --ok:#22c55e; --no:#ef4444; --warn:#f59e0b;
}

*{box-sizing:border-box}
html,body,#root{height:100%;margin:0}
body{background:#fff;color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}

.viewport{min-height:100%;display:grid;place-items:center;padding:28px}
.phone{
  width:480px;height:920px;border-radius:48px;background:var(--shell);border:12px solid var(--shell);
  box-shadow:var(--shadow-lg);position:relative
}
.notch{position:absolute;top:0;left:50%;transform:translateX(-50%);width:180px;height:34px;background:var(--shell);
  border-bottom-left-radius:18px;border-bottom-right-radius:18px;z-index:3}

.screen{
  position:absolute;inset:14px;border-radius:34px;overflow:auto;padding:22px;
  background:
    radial-gradient(1400px 900px at 50% -30%, rgba(99,102,241,.07), transparent 55%),
    radial-gradient(1200px 800px at 80% 130%, rgba(168,85,247,.08), transparent 50%),
    #f6f7fb;
}

/* ---------- hero ---------- */
.heroCenter{text-align:center;margin-top:10px}
.appicon{
  width:76px;height:76px;border-radius:24px;margin:14px auto 10px;
  display:grid;place-items:center;font-size:32px;color:#fff;
  background:linear-gradient(135deg,#6366f1,#a855f7);
  box-shadow:0 24px 60px rgba(99,102,241,.35)
}
.heroTitle{margin:0;font-size:32px;font-weight:800;letter-spacing:.2px}
.heroSub{margin:8px 0 18px;color:#4b5563;font-weight:700}

/* ---------- glass cards ---------- */
.glass{
  background:rgba(255,255,255,.7);
  border:1px solid var(--ring);
  border-radius:22px;
  box-shadow:0 30px 60px rgba(2,8,23,.08);
  backdrop-filter:saturate(180%) blur(12px);
}

/* ---------- upload card ---------- */
.uploadCard{margin:12px 8px 16px;padding:28px 18px;text-align:center;cursor:pointer;transition:transform .18s ease, box-shadow .18s ease}
.uploadCard:hover{transform:translateY(-2px);box-shadow:0 36px 80px rgba(2,8,23,.12)}
.cameraCircle{
  width:120px;height:120px;margin:4px auto 14px;border-radius:9999px;display:grid;place-items:center;
  background:conic-gradient(from 210deg, #6366f1, #a855f7 45%, #6366f1);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.28), 0 18px 50px rgba(99,102,241,.35)
}
.uploadTitle{margin:6px 0 6px;font-size:26px;font-weight:800;color:var(--ink)}
.uploadSub{margin:0;color:#64748b}
.uploadHint{display:flex;gap:8px;align-items:center;justify-content:center;margin-top:12px;color:#7a879c}
.uploadIcon{opacity:.9}

.preview{margin-top:16px;border-radius:16px;overflow:hidden;border:1px solid var(--ring)}
.preview img{display:block;width:100%;height:250px;object-fit:cover}

/* ---------- panels / cta ---------- */
.panel{margin:12px 8px 0;padding:16px}
.cta{
  width:100%;padding:15px 16px;border-radius:14px;border:none;color:#fff;cursor:pointer;
  background:linear-gradient(180deg,#111827,#0b1220);transition:transform .12s ease, opacity .12s ease;letter-spacing:.2px
}
.cta:hover{transform:translateY(-1px)}
.cta:active{transform:translateY(0)}
.cta:disabled{opacity:.65;cursor:not-allowed}

.toast.error{margin-top:10px;padding:10px 12px;border-radius:10px;background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.25);color:#991b1b}

/* ---------- top keto badge ---------- */
.topBadgeRow{display:flex;justify-content:center;margin-bottom:8px}
.topBadge{
  padding:10px 16px;border:none;border-radius:999px;font-weight:700;letter-spacing:.2px;
  color:#fff;box-shadow:0 12px 30px rgba(0,0,0,.15)
}
.topBadge.ok{background:linear-gradient(135deg,#16a34a,#22c55e)}
.topBadge.no{
  background:linear-gradient(135deg,#ef4444,#b91c1c);
  animation:blink 1s linear infinite;
}
@keyframes blink{ 50%{ filter:brightness(1.4) } }

/* ---------- results ---------- */
.result{}
.row{display:flex;gap:8px;align-items:center}
.row.between{justify-content:space-between}
.meal{margin:0 0 4px;font-size:20px;font-weight:800;color:var(--ink)}
.reason{margin:0 0 8px;color:#475569}

.muted{color:var(--muted)} .small{font-size:12px}
.badge{padding:6px 10px;border-radius:999px;font-size:12px}
.badge.ok{background:rgba(34,197,94,.12);color:var(--ok)}
.badge.no{background:rgba(239,68,68,.12);color:var(--no)}

/* macros 2x2 grid in requested order */
.macros{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin-top:12px}
.pill{padding:12px;border:1px solid var(--ring);border-radius:12px;background:#fff}
.pill.warn{border-color:rgba(245,158,11,.5);background:#fff7ed}
.pill .k{font-size:11px;color:#667085;text-transform:uppercase;letter-spacing:.06em}
.pill .v{font-weight:800;color:var(--ink)}

/* warnings and swaps */
h4{margin:14px 0 6px;font-size:14px;color:var(--ink)}
.chips{display:flex;flex-wrap:wrap;gap:6px}
.chip{padding:6px 10px;border-radius:999px;font-size:12px;background:#f3f4f6;border:1px solid var(--ring);color:#111827}
.swaps{padding-left:18px;margin:0}.swaps li{margin:6px 0;color:var(--ink)}

/* scores box */
.scores{
  margin-top:12px; display:flex; justify-content:center;
  background:#fff; border:1px solid var(--ring); border-radius:12px; padding:10px 12px;
}

.spacer{height:28px}

@media (prefers-reduced-motion: reduce){ .uploadCard,.cta,.topBadge.no{transition:none;animation:none} }